<!DOCTYPE html>
<!--
Template Name: Hoppler
Author: <a href="https://www.os-templates.com/">OS Templates</a>
Author URI: https://www.os-templates.com/
Licence: Free to use under our free template licence terms
Licence URI: https://www.os-templates.com/template-terms
-->
<html lang="">
<!-- To declare your language - read more here: https://www.w3.org/International/questions/qa-html-language-declarations -->
<head>
<title>programing</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="description" content="tutorial ajax mysql">
<meta name="keywords" content="javascript, mysql, ajax">
<meta name="keywords" content="jquery">
<meta name="keywords" content="ajax">
<meta name="keywords" content="javascript">
<meta name="keywords" content="mysql">
<meta name="author" content="faisal">
<link href="../layout/styles/layout.css" rel="stylesheet" type="text/css" media="all">
</head>
<style type="text/css">
#sec1{
  /* height: auto; */
  background-image:url('images/demo/backgrounds/jus2.jpg');
}
html{
  scroll-behavior: smooth;
}
</style>
<script type="text/javascript">
        function copy1() {
        var copyText = document.getElementById("off");
        copyText.select();
        copyText.setSelectionRange(0, 99999)
        document.execCommand("copy");
        alert("Copied the text: " + copyText.value);
        }
</script>
<body id="top">
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- Top Background Image Wrapper -->
<div class="bgded overlay" style="background-image:url('../images/demo/backgrounds/code.png');">
  <!-- ################################################################################################ -->
  <div class="wrapper row1">
    <header id="header" class="hoc clear">
      <!-- ################################################################################################ -->
      <div id="logo" class="fl_left">
        <h1><a href="../index.html">Kopler ;D</a></h1>
      </div>
      <nav id="mainav" class="fl_right">
        <ul class="clear">
          <li class="active"><a href="#sec1">tentang</a></li>
          <li><a class="drop" href="#">bola</a>
            <ul>
              <li><a href="Bola1.html">Matchweek EPL 19</a></li>
            <li><a href="../Jadwal.html">Jadwal Bola hari ini</a></li>
            </ul>
          </li>
          <li>
            <a href="../Film.html">Cari Film</a>
          </li>
          <li><a class="drop" href="#">programming</a>
            <ul>
            <li><a href="Prog1.html">Query join</a></li>
            <li><a href="Prog2.html">Mengenal Event di javascript</a></li>
            <li><a href="Prog3.html">Triger mysql, mengurangi stok barang</a></li>
            <li><a href="Prog4.html">Ajax mysql dengan vanila.js</a></li>
            </ul>
          </li>
        </ul>
      </nav>
      <!-- ################################################################################################ -->
    </header>
  </div>
  <!-- ################################################################################################ -->
  <!-- ################################################################################################ -->
  <!-- ################################################################################################ -->
  <section id="breadcrumb" class="hoc clear">
    <!-- ################################################################################################ -->
    <ul>

    </ul>
    <!-- ################################################################################################ -->

    <!-- ################################################################################################ -->
  </section>
  <!-- ################################################################################################ -->
</div>
<!-- End Top Background Image Wrapper -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<div class="wrapper row3">
  <main class="hoc container clear">
    <!-- main body -->
    <!-- ################################################################################################ -->
    <div class="sidebar one_quarter first">
      <!-- ################################################################################################ -->


      <div class="sdb_holder">

      </div>
      <div class="sdb_holder">

      </div>
      <!-- ################################################################################################ -->
    </div>
    <!-- ################################################################################################ -->
    <!-- ################################################################################################ -->
    <div class="content three_quarter">
      <!-- ################################################################################################ -->
      <h1 style="color:red">Ajax mysql dengan vanila.js</h1>

      <div class="">
        <p>Pada tulisan kali ini akan membahas tentang ajax(asincronus javascript and XML)</p>
      </div>
      <img class="imgr borderedbox inspace-5" src="../images/demo/ajx.jpg" alt="">
      <div class="">
      <p>apa yang dapat dilakukan dengan <a href="https://www.w3schools.com/js/js_ajax_intro.asp">ajax,</a> denganajax kita dapat mendambahkan data, tanpa perlu mereload walaman webnay,singkatnya seperti itu. dengan jquery code ajax menjadi lebih simple</p>
      <p>tapi pada tulisan ini saya menggunakan vanila javascript atau javascript murni, seangkan databaseny dengan <a href="www.mysql.com">mysql</a> kenapa memilih database ini, karena sebagian familiar dengan db ini, pertama buat db seperti ini</p>
        <img class="imgr borderedbox inspace-4" src="../images/demo/dbd.PNG" alt="">
      <p>SAYA membuat db dengan nama <a href="https://review.bukalapak.com/mens-style/merk-sepatu-pria-murah-berkualitas-97846" style="color:blue">produk</a>, tabelnya bernama <a href="https://www.suara.com/lifestyle/2019/06/11/183000/sepele-perilaku-berikut-jadi-ciri-ciri-orang-cerdas-lho" style="color:blue">kategori</a></p>
      <p>boleh dicontoh boleh juga tidak saya tidak memaksa URIP URIPMU AKU GK NGREKEN,hahahah gk lemozzs, setelah db dibaut, buat halaman tambahnya, saya memberi nama tambah.php</p>
      <textarea readonly name="name" rows="25" cols="80"> <!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

    <hr>
    <h1>ini adalah post db</h1>
    <form id="postForm">
      <input type="text" name="" value="" id="name1">
      <input type="submit" name="" value="tambah">
    </form>
      <!-- <button type="button" name="button" id="button">submitApi</button> -->
    <script type="text/javascript">
      document.getElementById("postForm").addEventListener('submit', postNama)
      function postNama(e){
        e.preventDefault()
        var name = document.getElementById("name1").value
        var param = "nama_kategori="+name
        var xhr = new XMLHttpRequest()
        xhr.open('POST','/Db.php', true)
        xhr.setRequestHeader('Content-type','application/x-www-form-urlencoded')
        xhr.onload = function(){
          console.log(this.responseText);
        }
        xhr.send(param)
      }

    </script>
  </body>
</html></textarea>
<div class="" style="font-weight: 900; font-size:25px">
  <p>setelah selesai, buat koneksi php untuk </p>
  <p>menghubungkan dengan db yang telah kita buat tadi</p>
  <p>ini dia soruce codenya</p>
</div>
<textarea readonly name="name" rows="25" cols="80">
  <?php
$servername = "localhost";
$username = "root";
$password = "";
$dbname = "produk"; //default db rest
$conn = new mysqli($servername, $username, $password, $dbname);

// Check connection
if ($conn->connect_error) {
die("Connection failed: " . $conn->connect_error);
}
echo "Connected successfully <br>";

if (isset($_POST['nama_kategori'])) {
$namaKat = mysqli_real_escape_string($conn, $_POST['nama_kategori']);
echo "POST: ". $_POST['nama_kategori'];
$query =  "INSERT INTO kategori (nama_kategori) VALUES ('$namaKat')";
if (mysqli_query($conn, $query)) {
  echo "  Berhasil ditambah";
}
else {
  echo "Gagal ditambah".mysqli_query($conn);
}

}

echo "Process...";
if (isset($_GET['nama_kategori'])) {
  echo "GET: namamu adalah ".$_GET['nama_kategori'];
} ?>
</textarea>
<p>selanjutnay buat kategori.php, ini file query yang nantinya urlnya akan diletakkan di getData file Ajx5.php</p>
<textarea readonly name="name" rows="15" cols="80">
  <?php
$servername = "localhost";
  $username = "root";
  $password = "";
  $dbname = "produk"; //default db rest
  $conn = new mysqli($servername, $username, $password, $dbname);
  $query = 'SELECT * FROM kategori';
  $result = mysqli_query($conn, $query);
  $kat = mysqli_fetch_all($result, MYSQLI_ASSOC);
  echo json_encode($kat);
</textarea>
<p>selajutlanya halaman untuk listnya script dibawah ini</p>
<textarea readonly name="name" rows="15" cols="80">
  <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Ajax 2 - Local JSON</title>
</head>
<body>
  <button id="button2">Get Data</button>
  <br><br>
  <div id="datanya"></div>

  <script>

    document.getElementById('button2').addEventListener('click', loadUsers);
    function loadUsers(){
      var xhr = new XMLHttpRequest();
      xhr.open('GET','Kategori.php', true);
      xhr.onload = function(){
        if(this.status == 200){
          var user = JSON.parse(this.responseText);
          var output = '';

          for(var i in user){
            output += '<ul>' +
              '<li>ID: '+user[i].id_kategori+'</li>' +
              '<li>Name: '+user[i].nama_kategori+'</li>' +
              '</ul>';
          }

          document.getElementById('datanya').innerHTML = output;
        }
      }

      xhr.send();
    }
  </script>
</body>
</html>
</textarea>
<p>file yang dibutuhnkan kurang lebihnya seperti dibawah ini</p>
  <img class="imgr borderedbox inspace-4" src="../images/demo/butuh.png" alt="">
  <p>Hasil demo kurang lebih seperti ini</p>
  <img class="imgr borderedbox inspace-4" src="../images/demo/demo.gif" alt="">



      <p>sekian trimakasih sudah bersedia membaca, semoga bermanfaat, kalau ada saran masukkan silahkan hubungi dilink tentang saya. trimakasih</p>
<p>thanks</p>
      <div id="comments">

      </div>
      <!-- ################################################################################################ -->
    </div>
    <!-- ################################################################################################ -->
    <!-- / main body -->
    <div class="clear"></div>
  </main>
</div>
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<div class="wrapper row4" id="sec1" style="background-image:url('../images/demo/backgrounds/kod.jpg');">
  <footer id="footer" class="hoc clear">
    <!-- ################################################################################################ -->
    <div class="one_quarter" align="center" style="color:rgb(185,199,226)">
      <h6 class="">Tentang saya <i class="fa fa-lg fa-home"></i></h6>
        <article>
          <img src="../images/demo/saya.jpg" alt="">
        </article>
        <ul class="nospace">
        faishal firman hakim <br>
        kec. dawarblandong, Mojokerto <br>
        <br>

        </ul>
      </nav>

      <ul class="faico clear">
        <li><a class="faicon-facebook" href="https://web.facebook.com/faisal.partenopei?ref=bookmarks"><i class="fa fa-facebook"></i></a></li>
        <li><a class="faicon-linkedin" href="#"><i class="fa fa-linkedin"></i></a></li>
        <li><a class="faicon-google-plus" href="https://www.instagram.com/isal48utd_army/"><i class="fa fa-instagram"></i></a></li>
        <li><a class="faicon-vk" href="#"><i class="fa fa-github"></i></a></li>
      </ul>
    </div>
    <!-- ################################################################################################ -->
  </footer>
</div>
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<div class="wrapper row5">
  <div id="copyright" class="hoc clear">
    <!-- ################################################################################################ -->
    <p class="fl_left">Copyright &copy; 2018 - All Rights Reserved - <a href="#">Domain Name</a></p>
    <p class="fl_right">Template by <a target="_blank" href="https://www.os-templates.com/" title="Free Website Templates">OS Templates</a></p>
    <!-- ################################################################################################ -->
  </div>
</div>
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<a id="backtotop" href="#top"><i class="fa fa-chevron-up"></i></a>
<!-- JAVASCRIPTS -->
<script src="../layout/scripts/jquery.min.js"></script>
<script src="../layout/scripts/jquery.backtotop.js"></script>
<script src="../layout/scripts/jquery.mobilemenu.js"></script>
</body>
</html>
